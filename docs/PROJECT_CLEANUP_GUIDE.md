# QueensGame 项目清理指南

本文档提供了 QueensGame 项目的清理指南，帮助保持项目结构整洁，便于维护和管理。

## 项目清理脚本

我们提供了一个专门的清理脚本 `cleanupProject.js`，可以通过以下命令运行：

```bash
# 模拟运行，不会实际删除或移动文件
npm run cleanup:dry

# 实际执行清理操作
npm run cleanup:force

# 或者直接运行脚本
node scripts/cleanupProject.js --force
```

## 清理内容

清理脚本会执行以下操作：

1. **移动根目录中的MD文件到docs目录**
   - 保留 `README.md` 文件在根目录
   - 将其他 `.md` 文件移动到 `docs` 目录

2. **清理备份目录，只保留最新的备份**
   - 保留最新的备份文件 `incremental-backup-2025-09-10T00-50-48-183Z.ts`
   - 删除其他旧的备份文件

3. **删除源代码中的备份文件**
   - 删除 `src` 目录中的所有 `*.backup`、`*_backup*` 和 `*.ts.backup` 文件

4. **整理日志文件**
   - 按日志类型分组，每种类型只保留最新的日志文件
   - 删除旧的日志文件

5. **更新 .gitignore 文件**
   - 确保 `.gitignore` 文件包含所有需要忽略的文件类型

6. **整合文档**
   - 创建文档索引文件 `docs/README.md`
   - 按类型分类文档

## 文件组织规范

为了保持项目结构整洁，请遵循以下文件组织规范：

### 文档文件

- **项目说明文档**: 放在根目录的 `README.md` 文件
- **其他文档**: 放在 `docs` 目录，按类型分类
  - 部署相关文档: 文件名包含 `deploy` 或 `cloudflare`
  - 游戏相关文档: 文件名包含 `game`
  - GitHub相关文档: 文件名包含 `github`

### 源代码文件

- **源代码**: 放在 `src` 目录
- **组件**: 放在 `src/components` 目录
- **页面**: 放在 `src/pages` 目录
- **工具函数**: 放在 `src/utils` 目录
- **数据**: 放在 `src/data` 目录
- **类型定义**: 放在 `src/types` 目录

### 脚本文件

- **脚本**: 放在 `scripts` 目录
- **自动化脚本**: 放在 `scripts` 目录，文件名应该清晰表明功能

### 备份文件

- **备份**: 放在 `backups` 目录
- **定期清理**: 只保留最新的备份文件

### 日志文件

- **日志**: 放在 `logs` 目录
- **定期清理**: 每种类型只保留最新的日志文件

## 清理后的项目结构

清理后的项目结构应该如下：

```
QueensGame/
├── backups/                  # 备份目录，只保留最新的备份
├── dist/                     # 构建输出目录
├── docs/                     # 文档目录
│   ├── README.md             # 文档索引
│   ├── deployment-guide.md   # 部署指南
│   └── ...                   # 其他文档
├── logs/                     # 日志目录，每种类型只保留最新的日志
├── node_modules/             # 依赖包目录
├── public/                   # 公共资源目录
├── scripts/                  # 脚本目录
│   ├── cleanupProject.js     # 项目清理脚本
│   └── ...                   # 其他脚本
├── src/                      # 源代码目录
│   ├── components/           # 组件目录
│   ├── data/                 # 数据目录
│   ├── pages/                # 页面目录
│   ├── styles/               # 样式目录
│   ├── types/                # 类型定义目录
│   ├── utils/                # 工具函数目录
│   ├── App.tsx               # 应用入口
│   └── main.tsx              # 主入口文件
├── .gitignore                # Git忽略文件
├── package.json              # 项目配置文件
├── README.md                 # 项目说明文档
└── ...                       # 其他配置文件
```

## 定期维护

建议定期执行以下维护操作：

1. **每周运行清理脚本**
   ```bash
   npm run cleanup:force
   ```

2. **每月检查并更新依赖**
   ```bash
   npm update
   ```

3. **每季度检查并优化代码**
   - 删除未使用的代码
   - 优化性能瓶颈
   - 更新文档

## 最佳实践

- **不要在源代码中保留备份文件**，使用Git进行版本控制
- **不要在项目中保留大量日志文件**，只保留最新的日志
- **保持文档的更新**，确保文档与代码同步
- **定期清理项目**，保持项目结构整洁

## 更新历史

- 2025-09-10: 创建项目清理指南 